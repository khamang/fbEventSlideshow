<!DOCTYPE html>
<html ng-app="fbEventSlideshow">
<head>
    <title></title>
    <meta charset="utf-8" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/angular-material/0.10.1/angular-material.min.css" rel="stylesheet">
    <link href="app/css/app.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular-sanitize.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular-animate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular-aria.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.4/angular-resource.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-material/0.10.1/angular-material.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-material-icons/0.5.0/angular-material-icons.min.js"></script>
    <script src="angular-easyfb.min.js"></script>
    <script src="app/app.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic">
    <meta name="viewport" content="initial-scale=1" />
</head>
<body layout="column" ng-controller="AppCtrl">
    <md-toolbar layout="row">
        <div class="md-toolbar-tools">
            <md-button ng-click="toggleSidenav('left')" hide-gt-sm class="md-icon-button" aria-label="menu">
                <md-icon md-font-library="material-icons">menu</md-icon>
            </md-button>

            <!--<md-button class="md-icon-button" aria-label="More">
                <md-icon md-font-library="material-icons">home</md-icon>
            </md-button>-->
            <h1>Facebook Event Slideshow</h1>
            <span flex></span>

            <md-button class="md-raised" ng-click="share()">Share</md-button>
            <md-button class="md-raised md-primary" ng-if="loginStatus && loginStatus.status == 'connected'" ng-click="logout()">Logout</md-button>
        </div>
    </md-toolbar>
    <div layout="row" flex>
        <div ng-if="!loginStatus || loginStatus.status != 'connected'">
            <div layout="column" flex id="content">
                <md-content layout="column" flex class="md-padding">
                    <div class="container">
                        <h3>Welcome to Facebook Event slideshow. In order to get started, connect with Facebook!</h3>
                        <md-button class="md-primary md-primary" ng-click="login()">Connect with Facebook</md-button>
                    </div>
                </md-content>
            </div>
        </div>
        <md-sidenav layout="column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-sm') && loginStatus && loginStatus.status == 'connected'">
            <md-content layout="column" flex class="md-padding">
                <section>
                    <md-subheader class="md-primary">Events</md-subheader>
                    <md-list>
                        <md-checkbox class="md-secondary" ng-model="myEventsOnly">My events only</md-checkbox>
                        <md-checkbox class="md-secondary" ng-model="showEventsCompleted">Show previous</md-checkbox>
                        <md-list-item class="md-2-line" ng-repeat="event in myEvents" ng-click="selectEvent(event, $event)">
                            <img ng-src="{{event.cover.source}}" class="md-avatar" />
                            <div class="md-list-item-text" layout="column">
                                <h3>{{ event.name }}</h3>
                                <p>{{ event.start_time | date }}</p>
                            </div>
                        </md-list-item>
                    </md-list>
                </section>
            </md-content>
        </md-sidenav>
        <div layout="column" flex id="content" ng-if="loginStatus && loginStatus.status == 'connected'">
            <md-content layout="column" flex class="md-padding">
                <div class="container">
                    <md-card ng-if="selectedEvent">
                        <img ng-src="{{selectedEvent.cover.source}}" class="md-card-image" alt="cover" ng-if="selectedEvent.cover">
                        <md-card-content>
                            <h2 class="md-title">{{selectedEvent.name}}</h2>
                            <p>
                                {{selectedEvent.description}}
                            </p>
                            <div ng-if="eventInfo">
                                <md-toolbar layout="row">
                                    <div class="md-toolbar-tools">
                                        <md-icon md-font-library="material-icons">info_outline</md-icon>
                                        <h1>Event information</h1>
                                        <span flex></span>
                                        <md-button ng-click="closeEventInfo()">
                                            <md-icon md-font-library="material-icons">close</md-icon>
                                        </md-button>
                                    </div>
                                </md-toolbar>
                                <div>
                                    <md-list-item class="md-3-line" ng-repeat="photo in eventInfo.photos" ng-click="goToPhoto(photo, $event)">
                                        <img ng-src="{{ photo.images[0].source }}" class="md-avatar"/>
                                        <div class="md-list-item-text" layout="column">
                                            <h3>{{ photo.name || '[no comment]'}}</h3>
                                            <h4>{{ photo.from.name}}</h4>
                                            <p>Comments: {{ photo.comments.length }}</p>
                                        </div>
                                    </md-list-item>
                                </div>
                            </div>
                        </md-card-content>
                        <div class="md-actions" layout="row" layout-align="end center">
                            <md-button class="md-primary md-raised" ng-click="playSlideshow(selectedEvent.id)">
                                <md-icon md-font-library="material-icons">play_arrow</md-icon> Start slideshow
                            </md-button>
                            <md-button ng-click="showEventInfo(selectedEvent.id)">
                                <md-icon md-font-library="material-icons">info_outline</md-icon> Event Information
                            </md-button>
                            <md-button ng-click="configureEvent()">
                                <md-icon md-font-library="material-icons">settings</md-icon> Configuration
                            </md-button>
                        </div>
                    </md-card>
                    <h3 ng-if="!selectedEvent">Please select an event from the list</h3>
                    <div class="row" ng-if="showDebugInfo">
                        <div class="col-md-6">
                            <h4 class="text-info">$FB.loginStatus()</h4>
                            <pre class="code-block">
                                {{loginStatus | json}}
                            </pre>
                        </div>
                        <div class="col-md-6">
                            <h4 class="text-info">$FB.api('/me')</h4>
                            <pre class="code-block">
                                {{apiMe | json}}
                            </pre>
                        </div>
                        <div class="col-md-6">
                            <h4 class="text-info">selectedEvent</h4>
                            <pre class="code-block">
                                {{selectedEvent | json}}
                            </pre>
                        </div>
                    </div>
                </div>
            </md-content>
        </div>
    </div>
</body>
</html>
